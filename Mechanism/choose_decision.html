<!doctype html> 
<html lang="en"> 
<head> 
	<meta charset="UTF-8" />
	<title>Phaser - Making your first game, part 1</title>
    <script src="//cdn.jsdelivr.net/phaser/2.2.2/phaser.min.js"></script>
    <style type="text/css">
        body {
            margin: 0;
        }
    </style>
</head>
<body>

<script type="text/javascript">

var width=800;
var height=600;


var game = new Phaser.Game(width, height, Phaser.CANVAS, '', { preload: preload, create: create, update: update, render: render });

var dialogo;
var map;

var layer1;
var layer2;

var button1;
var button2;
var button3;

var voice_button;

function preload() {
	game.load.image('dialogo', 'assets/choose/dialogo4.png');
    game.load.image('mapa', 'assets/choose/map.png');

    game.load.spritesheet('button1', 'assets/choose/map_type1.png', 200, 50);
    game.load.spritesheet('button2', 'assets/choose/map_type2.png', 200, 50);

    game.load.spritesheet('voice_button', 'assets/choose/button_voice.png', 100, 50);

    game.load.audio('voice', 'assets/choose/decision.mp3');

    game.load.image('left', 'assets/arrowleft.png');
    game.load.image('right', 'assets/arrowright.png');
}

function create() {

    game.stage.backgroundColor = "#FFFFFF";


    dialogo=game.add.image(150, 10, 'dialogo');
    //map=game.add.image(100,50, 'mapa');

    button1 = game.add.button(300, 225, 'button1', actionOnClick1, this, 1, 0, 2);
    button2 = game.add.button(300, 325, 'button2', actionOnClick2, this, 1, 0, 2);
    // button3 = game.add.button(500, 200, 'button3', actionOnClick3, this, 1, 0, 2);

    voice_button = game.add.button(350, 500, 'voice_button', play_sound ,this, 1, 0, 2);

    voice=game.add.audio('voice');
    voice.play();

    left=game.add.button(0,250, 'left', goLeft);
    // right=game.add.button(700,250, 'right', goRight);
}
function update() 
{
    
}

function goLeft()
{
    window.open("../Mechanism/start2.html", "_self");
}

function goRight()
{
    window.open("../Mechanism/choose.html", "_self");
}
function actionOnClick1()
{
    window.open("../Mechanism/choose.html", "_self");
}

function actionOnClick2()
{
    window.open("../Mechanism/part1_big.html", "_self");
}

function play_sound()
{
    voice.play();
}

function render() {

    /*game.debug.text('current tile X:'+layer1.getTileX(game.input.activePointer.worldX), 32, 32, 'rgb(0,0,0)');
    game.debug.text('current tile Y:'+layer1.getTileY(game.input.activePointer.worldY), 32, 48, 'rgb(0,0,0)');

    game.debug.text('current tile:'+mapCopy[layer1.getTileX(game.input.activePointer.worldX)][layer1.getTileY(game.input.activePointer.worldY)], 32, 64, 'rgb(0,0,0)');
*/
    //game.debug.text('erase dig bool:'+eraseDigBool, 32, 70, 'rgb(0,0,0)'); 
    //game.debug.geom(line1);
    //game.debug.geom(line2);
    //game.debug.geom(line3);
    //game.debug.geom(line4);
    //game.debug.geom(line5);

}



</script>

</body>
</html>